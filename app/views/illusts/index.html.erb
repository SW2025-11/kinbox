<h1>ã‚¤ãƒ©ã‚¹ãƒˆä¸€è¦§</h1>

<div class="top-actions">
  <%= link_to "ï¼‹ æ–°ã—ã„ã‚¤ãƒ©ã‚¹ãƒˆæŠ•ç¨¿", new_illust_path, class: "btn btn-primary" %>

  <% if logged_in? %>
    <%= link_to "â˜… ãŠæ°—ã«å…¥ã‚Šä¸€è¦§", favorites_path, class: "btn btn-favorite" %>
  <% end %>
</div>

<!-- ðŸ” æ¤œç´¢ãƒ•ã‚©ãƒ¼ãƒ ï¼ˆå³ä¸Šå›ºå®šï¼‰ -->
<div class="search-box">
  <%= form_with url: illusts_path, method: :get, local: true do |f| %>
    <%= f.text_field :q,
          value: params[:q],
          placeholder: "ã‚¿ã‚¤ãƒˆãƒ«ãƒ»èª¬æ˜Žã‚’æ¤œç´¢" %>
    <%= f.submit "æ¤œç´¢" %>
  <% end %>
</div>


<!-- ã‚½ãƒ¼ãƒˆ -->
<div class="sort-links">
  <%= link_to "æ–°ç€é †", illusts_path(sort: "newest", q: params[:q]) %>
  <%= link_to "å¤ã„é †", illusts_path(sort: "oldest", q: params[:q]) %>
  <%= link_to "ã‚¿ã‚¤ãƒˆãƒ«æ˜‡é †", illusts_path(sort: "title_asc", q: params[:q]) %>
  <%= link_to "ã‚¿ã‚¤ãƒˆãƒ«é™é †", illusts_path(sort: "title_desc", q: params[:q]) %>
</div>

<hr>

<div class="illust-grid">
  <% @illusts.each do |illust| %>
    <div class="illust-card">
      <% if illust.image.attached? %>
        <%= link_to illust_path(illust) do %>
          <%= image_tag illust.image.variant(resize_to_limit: [300, 300]) %>
        <% end %>
      <% end %>

      <p class="illust-title"><%= link_to illust.title, illust %></p>
      <p class="illust-user">æŠ•ç¨¿è€…: <%= illust.user.name %></p>
    </div>
  <% end %>
</div>

